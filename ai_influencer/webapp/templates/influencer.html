<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Analisi Influencer - AI Control Hub</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="header-bar">
        <h1>Analisi Influencer</h1>
        <nav class="app-nav">
          <a href="/"{% if active_nav == "home" %} aria-current="page"{% endif %}
            >Generazione contenuti</a
          >
          <a href="/influencer"{% if active_nav == "influencer" %} aria-current="page"{% endif %}
            >Analisi influencer</a
          >
          <a href="/settings"{% if active_nav == "settings" %} aria-current="page"{% endif %}
            >Impostazioni</a
          >
        </nav>
      </div>
      <p>
        Inserisci l'username o l'URL dell'influencer, scegli il metodo di raccolta dati e
        ottieni un riepilogo del profilo, delle metriche e dei contenuti pi&ugrave; recenti.
      </p>
    </header>

    <main class="influencer-layout">
      <section class="card influencer-form-card">
        <h2>Raccolta dati</h2>
        <form id="influencer-form" class="form influencer-form" autocomplete="off">
          <label>
            Username o URL
            <input
              type="text"
              id="influencer-identifier"
              name="identifier"
              required
              placeholder="es. @nomeutente o https://instagram.com/nome"
            />
          </label>
          <fieldset class="method-selector">
            <legend>Metodo di acquisizione</legend>
            <label>
              <input type="radio" name="method" value="official" checked />
              API ufficiali
            </label>
            <label>
              <input type="radio" name="method" value="scrape" />
              Web scraping
            </label>
          </fieldset>
          <button type="submit">Avvia raccolta</button>
        </form>
        <div id="influencer-status" class="status-message empty">
          Compila il form e avvia la ricerca.
        </div>
      </section>

      <section class="card guidelines-card">
        <h2>Linee guida del flusso</h2>
        <ol class="guidelines-list">
          <li>
            Identifica l'influencer di interesse (username o URL completo) e conferma la piattaforma
            di riferimento.
          </li>
          <li>
            Prediligi le API ufficiali quando disponibili, ricorrendo al web scraping solo come fallback
            controllato.
          </li>
          <li>
            Recupera profilo, metriche chiave (follower, engagement, trend) e media pi&ugrave; recenti per la
            valutazione.
          </li>
          <li>
            Valida i risultati, annota eventuali limitazioni o errori e richiedi nuovamente i dati se necessario.
          </li>
          <li>
            Archivia i dati raccolti per le fasi successive di analisi e pianificazione delle campagne.
          </li>
        </ol>
      </section>

      <section class="card results-card">
        <h2>Profilo</h2>
        <div id="influencer-profile" class="influencer-block empty">
          Nessun dato ancora disponibile.
        </div>
      </section>

      <section class="card results-card">
        <h2>Metriche</h2>
        <div id="influencer-metrics" class="influencer-block empty">
          Nessun dato ancora disponibile.
        </div>
      </section>

      <section class="card results-card">
        <h2>Media recenti</h2>
        <div id="influencer-media" class="influencer-block empty">
          Nessun contenuto disponibile.
        </div>
      </section>
    </main>

    <script src="/static/influencer.js" type="module"></script>
  </body>
</html>
