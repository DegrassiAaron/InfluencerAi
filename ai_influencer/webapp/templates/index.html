<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Influencer Control Hub</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="header-bar">
        <h1>AI Influencer Control Hub</h1>
        <nav class="app-nav">
          <a href="/"{% if active_nav == "home" %} aria-current="page"{% endif %}
            >Generazione contenuti</a
          >
          <a href="/influencer"{% if active_nav == "influencer" %} aria-current="page"{% endif %}
            >Analisi influencer</a
          >
          <a href="/data"{% if active_nav == "data" %} aria-current="page"{% endif %}
            >Gestione dati</a
          >
          <a href="/settings"{% if active_nav == "settings" %} aria-current="page"{% endif %}
            >Impostazioni</a
          >
        </nav>
      </div>
      <p>
        Genera contenuti immagine, testo e video sfruttando i modelli disponibili su
        OpenRouter. Seleziona un modello, inserisci il prompt e avvia la generazione.
      </p>
    </header>

    <main class="layout">
      <section class="models">
        <h2>Modelli OpenRouter</h2>
        <div class="filters">
          <label for="capability-filter">Capacit&agrave;:</label>
          <select id="capability-filter">
            <option value="all" selected>Tutte</option>
            <option value="text">Testo</option>
            <option value="image">Immagini</option>
            <option value="video">Video</option>
          </select>
        </div>
        <div id="models-list" class="models-list"></div>
      </section>

      <section class="generators">
        <article class="card">
          <h2>Generazione Testo</h2>
          <form id="text-form" class="form">
            <label>Modello
              <div class="model-selector">
                <input
                  type="search"
                  data-filter-for="text-model"
                  placeholder="Filtra modelli testo"
                />
                <select id="text-model" data-capability="text" required>
                  <option value="">Seleziona un modello</option>
                </select>
              </div>
            </label>
            <label>Prompt
              <textarea id="text-prompt" rows="4" required placeholder="Descrivi il contenuto da creare"></textarea>
            </label>
            <button type="submit">Genera Testo</button>
          </form>
          <pre id="text-output" class="output"></pre>
        </article>

        <article class="card">
          <h2>Generazione Immagine</h2>
          <form id="image-form" class="form">
            <label>Modello
              <div class="model-selector">
                <input
                  type="search"
                  data-filter-for="image-model"
                  placeholder="Filtra modelli immagine"
                />
                <select id="image-model" data-capability="image" required>
                  <option value="">Seleziona un modello</option>
                </select>
              </div>
            </label>
            <label>Prompt
              <textarea id="image-prompt" rows="3" required placeholder="Descrivi l'immagine"></textarea>
            </label>
            <label>Negative Prompt
              <input type="text" id="image-negative" placeholder="Elementi da evitare" />
            </label>
            <div class="grid">
              <label>Larghezza
                <input type="number" id="image-width" min="256" max="2048" value="1024" />
              </label>
              <label>Altezza
                <input type="number" id="image-height" min="256" max="2048" value="1024" />
              </label>
            </div>
            <button type="submit">Genera Immagine</button>
          </form>
          <div id="image-output" class="output"></div>
        </article>

        <article class="card">
          <h2>Generazione Video</h2>
          <form id="video-form" class="form">
            <label>Modello
              <div class="model-selector">
                <input
                  type="search"
                  data-filter-for="video-model"
                  placeholder="Filtra modelli video"
                />
                <select id="video-model" data-capability="video" required>
                  <option value="">Seleziona un modello</option>
                </select>
              </div>
            </label>
            <label>Prompt
              <textarea id="video-prompt" rows="3" required placeholder="Descrivi il video"></textarea>
            </label>
            <div class="grid">
              <label>Durata (s)
                <input type="number" id="video-duration" min="1" max="60" step="1" />
              </label>
              <label>Risoluzione
                <input type="text" id="video-size" placeholder="es. 1280x720" />
              </label>
            </div>
            <button type="submit">Genera Video</button>
          </form>
          <div id="video-output" class="output"></div>
        </article>
      </section>
    </main>

    <template id="model-template">
      <div class="model-card" data-capabilities="">
        <div class="model-header">
          <strong class="model-name"></strong>
          <span class="model-provider"></span>
        </div>
        <div class="model-capabilities"></div>
        <div class="model-pricing" aria-live="polite"></div>
        <div class="model-actions">
          <button data-target="text-model">Usa per Testo</button>
          <button data-target="image-model">Usa per Immagini</button>
          <button data-target="video-model">Usa per Video</button>
        </div>
      </div>
    </template>

    <script src="/static/app.js" type="module"></script>
  </body>
</html>
